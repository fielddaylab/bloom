# basePath   region5

:: queueCityUnlocked
@trigger        RegionUnlocked
@conditions     regionId == "City"
$yield // wait 1 frame for region to unlock
$call SendGlobalAlertForNode("region5_city1", region5.regionUnlocked)

:: regionUnlocked
@queued
// $call Pause()
{@advisorEconUrban}    Sup. Welcome to Smokestack City.
$call PanToBuilding("region5_city1")
$call CutsceneBegin()
    $call CutscenePrepareImages("intro/frame1-3.png", "intro/frame1-3.png", "intro/frame1-3.png")
    $call CutsceneNextImage()
    These cities rely upon the water for their livelihood.
    {wait 1}
    $call CutsceneClearText()
    $call CutsceneNextImage()
    Will these tools be enough to stop the blooms from advancing?
    {wait 1}
    $call CutsceneClearText()
    $call CutsceneNextImage()
    {wait 1}
    $call CutsceneClearText()
    $call CutsceneClearImages()
$call CutsceneEnd()
$call OffsetAlgaeGrowthThreshold(2)
// $call Unpause()

:: bloomGeneric
@trigger        AlertExamined
@conditions     alertType == "bloom", alertRegion == 5, global:bloomDiscovered
@forcePolicy    Ecology
{@advisorEcolUrban}     Algae blooms... This doesn't bode well.
{viewpoliciesnext}
{@advisorEcolUrban}     We'd best handle these before they reach the city.

:: ecologyAdvisorOpen
@trigger        AdvisorOpened
@conditions     advisorType == "Ecology", CameraInRegion(5)
// @forcePolicy    Ecology
$if PolicyIsUnlocked(RunoffPolicy)
    $call ForcePolicyInstant("Ecology")
    {local @advisorEcol}    Good to see you, Director! Here for ecological policies?
$else
{local @advisorEcol}    Hey there! No policies to assign yet.
$endif

:: economyAdvisorOpen
@trigger        AdvisorOpened
@conditions     advisorType == "Economy", CameraInRegion(5)
// @forcePolicy    Economy
$if PolicyIsUnlocked(SalesTaxPolicy)
    $call ForcePolicyInstant("Economy")
    {local @advisorEcon}    Sup boss! We makin' big moves economy-style?
$else
    {local @advisorEcon}    Aww man, we're plumb outta economic policies.
$endif